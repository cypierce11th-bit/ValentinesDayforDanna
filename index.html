<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Valentine's Day ‚ù§Ô∏è</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="intro">
  <div class="intro-text" id="introText"></div>
</div>

<img src="left-heart.png" class="side-img left" alt="heart">
<img src="right-heart.png" class="side-img right" alt="heart">

<div class="quote left-quote">‚ÄúMi amorcito Reina üíï‚Äù</div>
<div class="quote right-quote">‚ÄúMi Corazonsito, Mi amorsito.‚Äù</div>

<audio id="bgMusic" src="si_somos_novios.mp3" loop></audio>

<div class="container">
  <header>
    <button class="music-btn" onclick="playMusic()">Play Our Song üéµ</button>
    <h1>Happy Valentine's Day ‚ù§Ô∏è</h1>
    <h2>Danna Cruz ‚ù§Ô∏è</h2>
    <p>You mean the world to me. I made this little page just for you‚Äîbecause you deserve something as special as you are.</p>
  </header>

  <button class="heart-btn" id="surpriseBtn" onclick="startTrivia()">Click for a surprise üíò</button>

  <div id="trivia" style="display:none;">
    <div class="love-meter"><div id="loveFill" class="love-fill"></div></div>
    <div id="questionBox"></div>
    <div id="answers"></div>
    <div id="feedback"></div>
    <div id="explosion"></div>
  </div>
  
  <div class="polaroid-gallery">
    <div class="polaroid"><img src="img1.jpg"><span>Us üíï</span></div>
    <div class="polaroid"><img src="img2.jpg"><span>My Love</span></div>
    <div class="polaroid"><img src="img3.jpg"><span>Smile ü•∫</span></div>
    <div class="polaroid"><img src="img4.jpg"><span>Mi Amor</span></div>
    <div class="polaroid"><img src="img5.jpg"><span>Cutie üíñ</span></div>
    <div class="polaroid"><img src="img6.jpg"><span>You ‚ô•</span></div>
  </div>
</div>

<div class="container jar-section">
  <h3>Reasons Why I Adore You ‚ù§Ô∏è</h3>
  <p>Whenever you're feeling down, click the jar to get a little reminder of why you're my favorite person.</p>
  <div class="jar-container">
    <div id="reason-display" class="reason-text">Click the jar to see...</div>
    <div class="jar-icon" onclick="getNewReason()">ü´ô</div>
  </div>
</div>

<div class="container bucket-list">
  <h3>Our "When I See You" List ‚úàÔ∏è</h3>
  <p>Things I can't wait to do with you...</p>
  <ul class="list-items">
    <li><input type="checkbox"> A long, long hug to make up for lost time.</li>
    <li><input type="checkbox"> Watching our show cuddled up</li>
    <li><input type="checkbox"> Letting you clear all my blackheads (if you want to also my ear! lol).</li>
    <li><input type="checkbox"> A Cava, WaWa, Tacobell, Sushi, and Cheesecake date </li>
    <li><input type="checkbox"> Taking you wherever and doing whatever you want</li>
  </ul>
</div>

<div class="container stats-container">
  <div class="stat-box">
    <h3 class="stat-title">Countdown to Reunion ‚úàÔ∏è</h3>
    <div id="reunion-timer" class="cute-countdown">
      <div class="time-unit">
        <span id="r-days">00</span>
        <p>Days</p>
      </div>
      <div class="time-unit">
        <span id="r-hours">00</span>
        <p>Hrs</p>
      </div>
      <div class="time-unit">
        <span id="r-mins">00</span>
        <p>Mins</p>
      </div>
    </div>
    <p class="target-date">Target: May 1st, 2026</p>
  </div>

  <hr class="soft-divider">

  <div class="stat-box">
    <h3 class="stat-title">Our Journey Together ‚ù§Ô∏è</h3>
    <div class="cute-days">
      <span id="days-since">0</span>
      <p>Beautiful Days</p>
    </div>
    <p class="since-date">Since October 14, 2023</p>
  </div>
</div>

<script>
  let step = 0;
  let loveProgress = 0;

  const questions = [
    { q: "What was the first thing I noticed about you?", answers: ["Your eyes", "Your hair", "Your smile"], correct: 0 },
    { q: "What is the thing I love the most about you?", answers: ["All of the above!", "Your heart & humor", "Your beauty & sweetness"], correct: 0 },
    { q: "Do you realize you inspire me every day?", answers: ["Yes", "Absolutely Yes"], correct: 0 },
    { q: "Do you know you make my heart warm?", answers: ["Yes", "Always"], correct: 0 },
    { q: "Danna Cruz, will you be my Valentine?", answers: ["Yes!", "YES!!"], correct: 0 }
  ];

  document.querySelectorAll('.polaroid').forEach(p => {
    const randomRot = Math.floor(Math.random() * 10) - 5; 
    p.style.setProperty('--rotation', `${randomRot}deg`);
  });

  function playMusic() {
    const music = document.getElementById('bgMusic');
    music.volume = 0.4;
    music.play();
    document.querySelector('.music-btn').style.opacity = '0.5';
    document.querySelector('.music-btn').innerText = "Music Playing... üé∂";
  }

  function startTrivia() {
    document.getElementById('surpriseBtn').style.display = 'none';
    document.getElementById('trivia').style.display = 'block';
    loadQuestion();
  }

  function loadQuestion() {
    document.getElementById('feedback').innerHTML = "";
    const current = questions[step];
    document.getElementById('questionBox').innerHTML = `<p class='question'>${current.q}</p>`;
    const ansBox = document.getElementById('answers');
    ansBox.innerHTML = "";
    current.answers.forEach((answer, index) => {
      ansBox.innerHTML += `<button class='answer-btn' onclick='checkAnswer(${index})'>${answer}</button>`;
    });
  }

  function checkAnswer(index) {
    const feedback = document.getElementById('feedback');
    if (index === questions[step].correct || step >= 2) {
      feedback.innerHTML = "<span style='color:#ff4d6d'>üíñ Correct! üíñ</span>";
      increaseLoveMeter();
      explodeHearts(false);

      if (step === questions.length - 1) {
        setTimeout(() => {
          feedback.innerHTML = "<h2 class='final-msg'>I love you and miss you, Danna Cruz ‚ù§Ô∏è</h2>";
          explodeHearts(true);
        }, 800);
        return;
      }
      step++;
      setTimeout(loadQuestion, 1000);
    } else {
      feedback.innerHTML = "‚ùå Try again, my love!";
    }
  }

  function increaseLoveMeter() {
    loveProgress += (100 / questions.length);
    document.getElementById('loveFill').style.width = Math.min(loveProgress, 100) + "%";
  }

  function explodeHearts(isFinal) {
    const explosion = document.getElementById('explosion');
    const count = isFinal ? 100 : 20;
    for (let i = 0; i < count; i++) {
      const heart = document.createElement('span');
      heart.innerHTML = isFinal ? "üíò" : "üíñ";
      heart.className = "floating-heart";
      heart.style.left = isFinal ? Math.random() * 100 + "vw" : "50%";
      heart.style.top = isFinal ? Math.random() * 100 + "vh" : "50%";
      heart.style.setProperty('--x', `${(Math.random() - 0.5) * (isFinal ? 1000 : 400)}px`);
      heart.style.setProperty('--y', `${(Math.random() - 0.5) * (isFinal ? 1000 : 400)}px`);
      explosion.appendChild(heart);
      setTimeout(() => heart.remove(), 1500);
    }
  }

  const message = ["Hi Danna‚Ä¶", "I made something special for you.", "Because even from afar", "I want you smile. üíñ"];
  let i = 0, j = 0;
  function typeWriter() {
    if (i < message.length) {
      document.getElementById("introText").innerHTML = message[i].slice(0, j);
      if (j < message[i].length) { j++; setTimeout(typeWriter, 60) }
      else { j = 0; i++; setTimeout(typeWriter, 1200) }
    }
  }
  window.onload = typeWriter;

  const reasons = [
    "Your laugh‚Äîit's my favorite sound in the world.",
    "How much you love the small things and your toys.",
    "Your sudden excitement and those 'love attacks' you give.",
    "Your smart, witty mind that always keeps me on my toes.",
    "How incredibly passionate and caring you are.",
    "That specific face you make when you want to be babied ü•∫",
    "How beautiful you look in your hair wrap.",
    "How naturally gorgeous you are without a drop of makeup.",
    "The focused look you get when you want to get blackheads out!",
    "The pure joy on your face every time you see a cute dog."
  ];

  function getNewReason() {
    const reasonBox = document.getElementById('reason-display');
    const randomReason = reasons[Math.floor(Math.random() * reasons.length)];
    reasonBox.style.opacity = 0;
    document.querySelector('.jar-icon').style.transform = "rotate(15deg)";
    setTimeout(() => {
      reasonBox.innerText = randomReason;
      reasonBox.style.opacity = 1;
      document.querySelector('.jar-icon').style.transform = "rotate(0deg)";
    }, 300);
  }

  function updateStats() {
    const now = new Date();
    const reunionDate = new Date("May 1, 2026 00:00:00").getTime();
    const gap = reunionDate - now.getTime();

    if (gap > 0) {
      const d = Math.floor(gap / (1000 * 60 * 60 * 24));
      const h = Math.floor((gap % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const m = Math.floor((gap % (1000 * 60 * 60)) / (1000 * 60));

      document.getElementById("r-days").innerText = d.toString().padStart(2, '0');
      document.getElementById("r-hours").innerText = h.toString().padStart(2, '0');
      document.getElementById("r-mins").innerText = m.toString().padStart(2, '0');
    }

    const startDate = new Date("October 14, 2023");
    const diffTime = now - startDate;
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
    document.getElementById("days-since").innerText = diffDays;
  }

  setInterval(updateStats, 1000); // Updated to 1s for better accuracy
  updateStats();
</script>
</body>
</html>