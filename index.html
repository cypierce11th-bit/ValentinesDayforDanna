<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Valentine's Day â¤ï¸</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="intro">
  <div class="intro-text" id="introText"></div>
</div>

<img src="left-heart.png" class="side-img left" alt="heart">
<img src="right-heart.png" class="side-img right" alt="heart">

<div class="quote left-quote">â€œMi amorcito Reina ğŸ’•â€</div>
<div class="quote right-quote">â€œMi Corazonsito, Mi amorsito.â€</div>

<audio id="bgMusic" src="si_somos_novios.mp3" loop></audio>

<div class="container">
  <header>
    <button class="music-btn" onclick="playMusic()">Play Our Song ğŸµ</button>
    <h1>Happy Valentine's Day â¤ï¸</h1>
    <h2>Danna Cruz â¤ï¸</h2>
    <p>You mean the world to me. I made this little page just for youâ€”because you deserve something as special as you are.</p>
  </header>

  <button class="heart-btn" id="surpriseBtn" onclick="startTrivia()">Click for a surprise ğŸ’˜</button>

  <div id="trivia" style="display:none;">
    <div class="love-meter"><div id="loveFill" class="love-fill"></div></div>
    <div id="questionBox"></div>
    <div id="answers"></div>
    <div id="feedback"></div>
    <div id="explosion"></div>
  </div>
  
  <div class="polaroid-gallery">
    <div class="polaroid"><img src="img1.jpg"><span>Us ğŸ’•</span></div>
    <div class="polaroid"><img src="img2.jpg"><span>My Love</span></div>
    <div class="polaroid"><img src="img3.jpg"><span>Smile ğŸ¥º</span></div>
    <div class="polaroid"><img src="img4.jpg"><span>Mi Amor</span></div>
    <div class="polaroid"><img src="img5.jpg"><span>Cutie ğŸ’–</span></div>
    <div class="polaroid"><img src="img6.jpg"><span>You â™¥</span></div>
  </div>
</div>

<script>
  let step = 0;
  let loveProgress = 0;

  const questions = [
    { q: "What was the first thing I noticed about you?", answers: ["Your eyes", "Your hair", "Your smile"], correct: 0 },
    { q: "What is the thing I love the most about you?", answers: ["All of the above!", "Your heart & humor", "Your beauty & sweetness"], correct: 0 },
    { q: "Do you realize you inspire me every day?", answers: ["Yes", "Absolutely Yes"], correct: 0 },
    { q: "Do you know you make my heart warm?", answers: ["Yes", "Always"], correct: 0 },
    { q: "Danna Cruz, will you be my Valentine?", answers: ["Yes!", "YES!!"], correct: 0 }
  ];

  // Randomize polaroid rotations for a "cuter" look
  document.querySelectorAll('.polaroid').forEach(p => {
    const randomRot = Math.floor(Math.random() * 10) - 5; 
    p.style.setProperty('--rotation', `${randomRot}deg`);
  });

  function playMusic() {
    const music = document.getElementById('bgMusic');
    music.volume = 0.4;
    music.play();
    document.querySelector('.music-btn').style.opacity = '0.5';
    document.querySelector('.music-btn').innerText = "Music Playing... ğŸ¶";
  }

  function startTrivia() {
    document.getElementById('surpriseBtn').style.display = 'none';
    document.getElementById('trivia').style.display = 'block';
    loadQuestion();
  }

  function loadQuestion() {
    document.getElementById('feedback').innerHTML = "";
    const current = questions[step];
    document.getElementById('questionBox').innerHTML = `<p class='question'>${current.q}</p>`;
    const ansBox = document.getElementById('answers');
    ansBox.innerHTML = "";
    current.answers.forEach((answer, index) => {
      ansBox.innerHTML += `<button class='answer-btn' onclick='checkAnswer(${index})'>${answer}</button>`;
    });
  }

  function checkAnswer(index) {
    const feedback = document.getElementById('feedback');
    // For the last 3 questions, any answer is "correct" because it's sweet!
    if (index === questions[step].correct || step >= 2) {
      feedback.innerHTML = "<span style='color:#ff4d6d'>ğŸ’– Correct! ğŸ’–</span>";
      increaseLoveMeter();
      explodeHearts(false);

      if (step === questions.length - 1) {
        setTimeout(() => {
          feedback.innerHTML = "<h2 class='final-msg'>I love you and miss you, Danna Cruz â¤ï¸</h2>";
          explodeHearts(true);
        }, 800);
        return;
      }
      step++;
      setTimeout(loadQuestion, 1000);
    } else {
      feedback.innerHTML = "âŒ Try again, my love!";
    }
  }

  function increaseLoveMeter() {
    loveProgress += (100 / questions.length);
    document.getElementById('loveFill').style.width = Math.min(loveProgress, 100) + "%";
  }

  function explodeHearts(isFinal) {
    const explosion = document.getElementById('explosion');
    const count = isFinal ? 100 : 20;
    for (let i = 0; i < count; i++) {
      const heart = document.createElement('span');
      heart.innerHTML = isFinal ? "ğŸ’˜" : "ğŸ’–";
      heart.className = "floating-heart";
      heart.style.left = isFinal ? Math.random() * 100 + "vw" : "50%";
      heart.style.top = isFinal ? Math.random() * 100 + "vh" : "50%";
      heart.style.setProperty('--x', `${(Math.random() - 0.5) * (isFinal ? 1000 : 400)}px`);
      heart.style.setProperty('--y', `${(Math.random() - 0.5) * (isFinal ? 1000 : 400)}px`);
      explosion.appendChild(heart);
      setTimeout(() => heart.remove(), 1500);
    }
  }

  // Typewriter
  const message = ["Hi Dannaâ€¦", "I made something special for you.", "Because even from afar...", "I wanted to make you smile. ğŸ’–"];
  let i = 0, j = 0;
  function typeWriter() {
    if (i < message.length) {
      document.getElementById("introText").innerHTML = message[i].slice(0, j);
      if (j < message[i].length) { j++; setTimeout(typeWriter, 60) }
      else { j = 0; i++; setTimeout(typeWriter, 1200) }
    }
  }
  window.onload = typeWriter;
</script>
</body>
</html>